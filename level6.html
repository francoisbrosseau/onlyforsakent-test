<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ONLYFORSAKEN — Level 5</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.62);
      --shadow: rgba(0,0,0,0.82);
      --line: rgba(255,255,255,0.22);
      --tilebg: rgba(0,0,0,0.40);
      --ember: rgba(255,190,120,0.18);
      --ember2: rgba(255,190,120,0.08);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; background:#000; }

    /* HERO */
    .hero{
      min-height:100%;
      position:relative;
      background:
        radial-gradient(70% 60% at 50% 35%, rgba(255,190,120,0.06), rgba(0,0,0,0.87)),
        url("level5.jpg") center/cover no-repeat;
      overflow:hidden;
      font-family:"Cormorant Garamond", serif;
      color:var(--text);
      text-align:center;
    }

    .hero::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(95% 85% at 50% 40%, rgba(0,0,0,0.12), rgba(0,0,0,0.87)),
        repeating-linear-gradient(0deg,
          rgba(255,255,255,0.018),
          rgba(255,255,255,0.018) 1px,
          rgba(0,0,0,0.00) 2px,
          rgba(0,0,0,0.00) 6px
        );
      mix-blend-mode: overlay;
      opacity:0.60;
      pointer-events:none;
    }

    .hero::after{
      content:"";
      position:absolute; inset:-20%;
      background: radial-gradient(closest-side at 50% 35%, rgba(255,190,120,0.13), rgba(0,0,0,0.0));
      filter: blur(18px);
      opacity:0.30;
      animation: flicker 7.2s ease-in-out infinite;
      pointer-events:none;
    }

    @keyframes flicker{
      0%,100% { transform: translate3d(0,0,0) scale(1); opacity:0.26; }
      22%     { transform: translate3d(-1.2%, 0.8%, 0) scale(1.02); opacity:0.34; }
      55%     { transform: translate3d(1.0%, -0.6%, 0) scale(1.015); opacity:0.28; }
      80%     { transform: translate3d(-0.6%, -0.2%, 0) scale(1.01); opacity:0.32; }
    }

    .wrap{
      position:relative;
      z-index:2;
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:36px 14px;
    }

    .content{
      width:min(940px, 100%);
    }

    h1{
      font-family:"Cinzel Decorative", serif;
      font-weight:700;
      margin:0 0 10px;
      letter-spacing:0.9px;
      font-size:clamp(28px, 3.8vw, 52px);
      text-shadow:0 0 18px rgba(0,0,0,0.85);
    }

    .subtitle{
      margin:0 0 18px;
      color:rgba(255,255,255,0.60);
      font-size:16px;
      letter-spacing:0.35px;
      text-shadow:0 0 14px rgba(0,0,0,0.75);
    }

    .story{
      margin:0 auto 18px;
      max-width: 820px;
      font-size:18px;
      line-height:1.62;
      color:rgba(255,255,255,0.87);
      text-shadow:0 2px 18px rgba(0,0,0,0.72);
    }

    .divider{
      height:1px;
      width:min(600px, 92%);
      margin:22px auto 18px;
      background:linear-gradient(90deg, transparent, rgba(255,255,255,0.26), transparent);
    }

    .riddle{
      margin:0 auto 6px;
      max-width: 820px;
      font-size:18px;
      line-height:1.58;
      color:rgba(255,255,255,0.80);
      text-shadow:0 2px 18px rgba(0,0,0,0.72);
    }

    /* tiles */
    .tiles{
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      justify-content:center;
      margin:18px 0 14px;
    }

    .tile{
      width:66px;
      height:66px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.18);
      background: radial-gradient(120% 120% at 50% 35%, rgba(255,255,255,0.05), var(--tilebg));
      box-shadow:0 18px 44px rgba(0,0,0,0.55);
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Cinzel Decorative", serif;
      font-size:22px;
      letter-spacing:1px;
      cursor:grab;
      user-select:none;
      touch-action:none;
      text-shadow:0 0 10px rgba(0,0,0,0.65);
      position:relative;
    }

    @keyframes breatheFade{
      0%,100%{ opacity:0.18; }
      40%    { opacity:0.95; }
      60%    { opacity:0.30; }
    }
    .tile.haunted{
      animation: breatheFade var(--fadeDur) ease-in-out infinite;
      animation-delay: var(--delay);
    }

    /* marked */
    .tile.marked{
      border-color: rgba(255,190,120,0.26);
      box-shadow:0 18px 44px rgba(0,0,0,0.55), 0 0 22px var(--ember2);
    }

    .slots{
      display:flex;
      gap:12px;
      justify-content:center;
      margin-bottom:12px;
    }

    .slot{
      width:66px;
      height:66px;
      border-radius:16px;
      border:1px dashed rgba(255,255,255,0.18);
      background: rgba(0,0,0,0.22);
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Cinzel Decorative", serif;
      font-size:22px;
      letter-spacing:1px;
    }

    .status{
      min-height:24px;
      color:rgba(255,255,255,0.64);
      font-size:16px;
      margin-top:8px;
    }

    .unlock{ display:none; margin-top:14px; }

    .unlock a{
      display:inline-block;
      padding:10px 16px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,0.26);
      background: rgba(0,0,0,0.56);
      color: white;
      text-decoration:none;
      font-family:"Cinzel Decorative", serif;
    }
  </style>
</head>

<body>
  <div class="hero">
    <div class="wrap">
      <div class="content">

        <h1>The Sigil Chamber</h1>
        <div class="subtitle">Some doors don’t want words. They want proof.</div>

        <p class="story">
          The corridor widens into a circular vault carved with patient violence.
          Symbols repeat along the walls like prayers worn down to bone.
          In the center waits a basin, empty but shining, and above it letters drift—
          some honest, some false, all flickering like guilty thoughts.
          <br><br>
          The door bears a wound shaped like meaning.
          It does not want to be spoken to.
          It wants to be recognized.
        </p>

        <div class="divider"></div>

        <!-- riddle WITHOUT the word RIDDLE -->
        <p class="riddle">
          I am not spoken, yet I command.<br>
          I am written without ink, and seen without light.<br>
          I bind what should remain shut—<br>
          and open only for the true strokes.<br><br>
          The real ones are scarred. The rest only pretend.
        </p>

        <div class="tiles" id="tiles">
          <div class="tile haunted" draggable="true" data-letter="E">E</div>
          <div class="tile haunted" draggable="true" data-letter="T">T</div>
          <div class="tile haunted" draggable="true" data-letter="O">O</div>
          <div class="tile haunted" draggable="true" data-letter="V">V</div>

          <div class="tile haunted marked" draggable="true" data-letter="I">I</div>
          <div class="tile haunted marked" draggable="true" data-letter="L">L</div>
          <div class="tile haunted marked" draggable="true" data-letter="S">S</div>
          <div class="tile haunted marked" draggable="true" data-letter="G">G</div>
          <div class="tile haunted marked" draggable="true" data-letter="I">I</div>

          <div class="tile haunted" draggable="true" data-letter="1">1</div>
        </div>

        <div class="slots">
          <div class="slot"></div>
          <div class="slot"></div>
          <div class="slot"></div>
          <div class="slot"></div>
          <div class="slot"></div>
        </div>

        <div class="status" id="status">The room watches.</div>

        <div class="unlock" id="unlock">
          <a href="level6.html">Enter the next threshold</a>
        </div>

      </div>
    </div>
  </div>

<script>
  const ANSWER = "SIGIL";

  const tiles = Array.from(document.querySelectorAll(".tile"));
  const slots = Array.from(document.querySelectorAll(".slot"));
  const statusEl = document.getElementById("status");
  const unlockEl = document.getElementById("unlock");

  let draggedTile = null;
  let selectedTile = null;

  tiles.forEach(t => {
    const fade = 3.2 + Math.random() * 2.8;
    const delay = Math.random() * 1.8;
    t.style.setProperty("--fadeDur", fade.toFixed(2) + "s");
    t.style.setProperty("--delay", delay.toFixed(2) + "s");

    t.addEventListener("dragstart", () => draggedTile = t);
    t.addEventListener("click", () => {
      tiles.forEach(x => x.classList.remove("selected"));
      selectedTile = t;
      t.classList.add("selected");
    });
  });

  function check(){
    const a = slots.map(s => s.textContent.trim()).join("");
    if(a.length < ANSWER.length){
      unlockEl.style.display = "none";
      statusEl.textContent = "The room watches.";
      return;
    }
    if(a === ANSWER){
      statusEl.textContent = "The mark completes. The door yields.";
      unlockEl.style.display = "block";
    }else{
      unlockEl.style.display = "none";
      statusEl.textContent = "The mark rejects you.";
    }
  }

  slots.forEach(s => {
    s.addEventListener("dragover", e => e.preventDefault());

    s.addEventListener("drop", () => {
      if(!draggedTile) return;
      s.textContent = draggedTile.dataset.letter;
      check();
    });

    s.addEventListener("click", () => {
      if(!selectedTile) return;
      s.textContent = selectedTile.dataset.letter;
      selectedTile = null;
      check();
    });
  });
</script>

</body>
</html>
